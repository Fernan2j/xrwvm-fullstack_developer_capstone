<html>
  <head>
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="stylesheet" href="/static/bootstrap.min.css" />

    <script>
      const logout = async (e) => {
        // Build logout URL and Make GET request to logout endpoint
        let logout_url = window.location.origin + "/djangoapp/logout";
        const res = await fetch(logout_url, {
          method: "GET",
        });

        const json = await res.json();
        if (json) {
          // Clear session storage and reload page
          let username = sessionStorage.getItem("username");
          sessionStorage.removeItem("username");
          window.location.href = window.location.origin;
          window.location.reload();
          alert("Logging out " + username + "...");
        } else {
          alert("The user could not be logged out.");
        }
      };

      let checkSession = () => {
        let curr_user = sessionStorage.getItem("username");

        if (curr_user && curr_user !== "") {
          // User is logged in: Show Name and Logout
          document.getElementById("loginlogout").innerHTML =
            '<span class="nav-item nav-link text-white">Hello, ' +
            curr_user +
            "</span>" +
            '<a class="nav-item nav-link" onclick="logout()" href="#">Logout</a>';
        } else {
          // User is NOT logged in: Show Login and Register
          document.getElementById("loginlogout").innerHTML =
            '<a class="nav-item nav-link" href="/login">Login</a>' +
            '<a class="nav-item nav-link" href="/register">Register</a>';
        }
      };
    </script>
  </head>

  <body onload="checkSession()">
    <nav
      class="navbar navbar-expand-lg navbar-dark"
      style="background-color: #003366"
    >
      <div class="container-fluid">
        <h2
          class="navbar-brand mb-0 h1"
          style="padding-right: 5%; color: white"
        >
          Best Cars Automotive
        </h2>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarText"
          aria-controls="navbarText"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" style="font-size: larger" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" style="font-size: larger" href="/about"
                >About Us</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                style="font-size: larger"
                aria-current="page"
                href="/contact"
                >Contact Us</a
              >
            </li>
          </ul>

          <div class="navbar-nav ml-auto" id="loginlogout"></div>
        </div>
      </div>
    </nav>

    <div
      class="card"
      style="width: 95%; margin: auto; margin-top: 2%; border: none"
    >
      <div class="banner mb-4 text-center">
        <h1 class="display-4">Contact Us</h1>
        <p class="lead">
          Have a question about a vehicle or need to schedule service? Reach out
          to the <strong>Best Cars</strong> team below.
        </p>
      </div>

      <div class="row g-0">
        <div class="col-12 col-md-6">
          <div class="h-100">
            <img
              src="/static/car_dealer.png"
              alt="Showroom Interior"
              class="w-100 h-100"
              style="
                object-fit: cover;
                min-height: 400px;
                border-top-left-radius: 0.25rem;
                border-bottom-left-radius: 0.25rem;
              "
            />
          </div>
        </div>

        <div class="col-12 col-md-6">
          <div
            class="card h-100 bg-light border-0"
            style="
              border-top-right-radius: 0.25rem;
              border-bottom-right-radius: 0.25rem;
            "
          >
            <div class="card-body p-5">
              <h4 class="card-title">Visit Our Showroom</h4>
              <p class="card-text">
                Stop by for a test drive or a coffee. We are located in the
                heart of the automotive district.
              </p>

              <hr />

              <div class="mb-4">
                <h5>üìç Address</h5>
                <p class="mb-0">1234 Auto Park Blvd</p>
                <p>Detroit, MI 48201</p>
              </div>

              <div class="mb-4">
                <h5>üìû Direct Lines</h5>
                <p class="mb-0"><strong>Sales:</strong> (555) 123-4567</p>
                <p class="mb-0"><strong>Service:</strong> (555) 123-8900</p>
                <p><strong>Email:</strong> info@bestcars.com</p>
              </div>

              <div class="mb-0">
                <h5>üïí Business Hours</h5>
                <ul class="list-unstyled">
                  <li class="d-flex justify-content-between">
                    <span>Mon - Fri:</span> <span>9:00 AM - 8:00 PM</span>
                  </li>
                  <li class="d-flex justify-content-between">
                    <span>Saturday:</span> <span>10:00 AM - 6:00 PM</span>
                  </li>
                  <li class="d-flex justify-content-between text-danger">
                    <span>Sunday:</span> <span>Closed</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
